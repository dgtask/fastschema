(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{78571:function(e,t,r){Promise.resolve().then(r.bind(r,95412))},95412:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(57437),s=r(8792),a=r(34560),l=r(15e3),i=r(75006),o=r(60834),d=r(30142),c=r(39997),u=r(27453),m=r(33277),f=r(90688),x=r(95453);let g=e=>[{accessorKey:"id",enableSorting:!0,enableHiding:!0,filterFn:d.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"ID"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"flex space-x-2",children:(0,n.jsx)("span",{className:"w-[60px] truncate font-medium",children:t.getValue("id")})})}},{accessorKey:"name",enableSorting:!0,enableHiding:!0,filterFn:d.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Name"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"flex space-x-2",children:(0,n.jsx)("span",{className:"max-w-[500px] truncate font-medium",children:t.getValue("name")})})}},{accessorKey:"description",enableSorting:!0,enableHiding:!0,filterFn:d.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Description"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"flex space-x-2",children:(0,n.jsx)("span",{className:"max-w-[500px] truncate font-medium",children:t.getValue("description")})})}},{accessorKey:"root",header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Root"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"w-[80px]",children:t.getValue("root")?(0,n.jsx)(m.C,{children:"Root"}):null})},filterFn:(e,t,r)=>r===e.getValue(t),enableSorting:!0,enableHiding:!0},{accessorKey:"type",header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Type"})},cell:e=>{let{row:t}=e,r=[1,2,3].includes(t.getValue("id"))?(0,n.jsx)(m.C,{children:"System"}):(0,n.jsx)(m.C,{variant:"secondary",children:"User"});return(0,n.jsx)("div",{className:"w-[80px]",children:r})},filterFn:(e,t,r)=>r===e.getValue(t),enableSorting:!1,enableHiding:!0},{accessorKey:"created_at",filterFn:d.i,header:e=>{let{column:t}=e;return(0,n.jsx)(c.Q,{column:t,title:"Created at"})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{children:t.getValue("created_at")})},enableSorting:!0,enableHiding:!0},{id:"actions",cell:t=>{let{row:r}=t,a=r.original;return(0,n.jsxs)("div",{className:"flex h-5 items-center space-x-4 text-sm",children:[(0,n.jsx)(s.default,{href:"/settings/roles/edit?id=".concat(a.id),className:"cursor-pointer hover:underline",children:"Edit"}),![1,2,3].includes(a.id)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.Z,{orientation:"vertical"}),(0,n.jsx)("button",{className:"cursor-pointer hover:underline text-red-800",onClick:async()=>{if(confirm("Are you sure you want to delete this role: ".concat(a.name,"?")))try{await (0,f.Rd)(a.id),u.h4.success("Role ".concat(a.name," deleted")),await e()}catch(e){u.h4.error(e.message)}},children:"Delete"})]})]})}}];var p=r(57654),h=r(76540),v=r(70769),j=r(2265);function y(){var e,t;let{data:r,isLoading:d,error:c,refetch:u}=(0,h.a)({queryKey:["roles"],queryFn:f.xv}),m=g(u);return((0,j.useEffect)(()=>((0,a.D8)({title:"Roles list",description:"List of all roles.",breadcrumbs:[{name:"Settings",path:"/settings"},{name:"Roles",path:"/settings/roles"}],actions:[(0,n.jsx)(s.default,{href:"/settings/roles/edit",children:(0,n.jsx)(p.z,{size:"sm",icon:(0,n.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),children:"New Role"})},"create")]}),a.D8),[]),d)?(0,n.jsx)(i.g,{}):c?(0,n.jsx)(l.T,{error:c}):(0,n.jsx)(o.i,{data:r,columns:m,getRowId:e=>e.id.toString(),filterTitle:"Filter roles",pagination:{total:null!==(e=null==r?void 0:r.length)&&void 0!==e?e:0,current_page:1,per_page:10,last_page:Math.ceil((null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0)/10)}})}},15e3:function(e,t,r){"use strict";r.d(t,{T:function(){return o}});var n=r(57437),s=r(29069),a=r(62985),l=r(95601),i=r.n(l);let o=e=>{var t;let{title:r,description:l,error:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:null!=r?r:"Error"})}),(0,n.jsxs)(s.bZ,{variant:"destructive",children:[(0,n.jsx)(a.Z,{size:16,className:"mr-2"}),(0,n.jsx)(s.Cd,{children:null!=r?r:"Error"}),(null==o?void 0:o.message)||l&&(0,n.jsx)(s.X,{children:null!==(t=null==o?void 0:o.message)&&void 0!==t?t:l})]})]})}},30142:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n=(e,t,r)=>String(e.getValue(t)).toLocaleLowerCase().includes(String(r).toLocaleLowerCase())},39997:function(e,t,r){"use strict";r.d(t,{Q:function(){return o}});var n=r(57437),s=r(62177),a=r(34645),l=r(22169),i=r(57654);function o(e){let{column:t,title:r,className:o}=e;if(!t.getCanSort())return(0,n.jsx)("div",{className:(0,l.cn)(o),children:r});let d=(0,n.jsx)(s.jnn,{className:"ml-2 h-4 w-4"});return"desc"===t.getIsSorted()&&(d=(0,n.jsx)(s.veu,{className:"ml-2 h-4 w-4"})),"asc"===t.getIsSorted()&&(d=(0,n.jsx)(s.Hf3,{className:"ml-2 h-4 w-4"})),(0,n.jsx)("div",{className:(0,l.cn)("flex items-center space-x-2",o),children:(0,n.jsxs)(a.h_,{children:[(0,n.jsx)(a.$F,{asChild:!0,children:(0,n.jsxs)(i.z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[(0,n.jsx)("span",{children:r}),d]})}),(0,n.jsxs)(a.AW,{align:"start",children:[(0,n.jsxs)(a.Xi,{onClick:()=>t.toggleSorting(!1),children:[(0,n.jsx)(s.Hf3,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),(0,n.jsxs)(a.Xi,{onClick:()=>t.toggleSorting(!0),children:[(0,n.jsx)(s.veu,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),(0,n.jsx)(a.VD,{}),(0,n.jsxs)(a.Xi,{onClick:()=>t.toggleVisibility(!1),children:[(0,n.jsx)(s.L52,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})})}},29069:function(e,t,r){"use strict";r.d(t,{Cd:function(){return d},X:function(){return c},bZ:function(){return o}});var n=r(57437),s=r(2265),a=r(57742),l=r(22169);let i=(0,a.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...a}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(i({variant:s}),r),...a})});o.displayName="Alert";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});d.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},33277:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(57437);r(2265);var s=r(57742),a=r(22169);let l=(0,s.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(l({variant:r}),t),...s})}},26739:function(e,t,r){"use strict";r.d(t,{di:function(){return x},e8:function(){return c},fu:function(){return m},mY:function(){return o},rb:function(){return u},sZ:function(){return d},zz:function(){return f}});var n=r(57437),s=r(2265),a=r(62177),l=r(9160),i=r(22169);r(9208);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(l.mY,{ref:t,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...s})});o.displayName=l.mY.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,n.jsx)(a._Ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,n.jsx)(l.mY.Input,{ref:t,className:(0,i.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...s})]})});d.displayName=l.mY.Input.displayName;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(l.mY.List,{ref:t,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...s})});c.displayName=l.mY.List.displayName;let u=s.forwardRef((e,t)=>(0,n.jsx)(l.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));u.displayName=l.mY.Empty.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(l.mY.Group,{ref:t,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...s})});m.displayName=l.mY.Group.displayName;let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(l.mY.Separator,{ref:t,className:(0,i.cn)("-mx-1 h-px bg-border",r),...s})});f.displayName=l.mY.Separator.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(l.mY.Item,{ref:t,className:(0,i.cn)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r),...s})});x.displayName=l.mY.Item.displayName},90688:function(e,t,r){"use strict";r.d(t,{Rd:function(){return i},cY:function(){return a},x$:function(){return l},xv:function(){return s}});var n=r(84971);let s=async()=>(0,n.dX)("/role"),a=async e=>{var t;if(!e)return null;let r=await (0,n.dX)("/role/".concat(e));return r.permissions=null!==(t=r.permissions)&&void 0!==t?t:[],r},l=async(e,t)=>(t||(delete e.$add,delete e.$clear),t?await (0,n.qb)("/role/".concat(t),e):await (0,n.SO)("/role",e)),i=e=>(0,n.HG)("/role/".concat(e))}},function(e){e.O(0,[310,637,789,792,829,32,396,315,160,156,334,608,834,971,69,744],function(){return e(e.s=78571)}),_N_E=e.O()}]);